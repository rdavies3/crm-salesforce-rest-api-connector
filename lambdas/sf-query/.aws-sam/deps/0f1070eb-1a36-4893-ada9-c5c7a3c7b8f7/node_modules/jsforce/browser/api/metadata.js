import _Object$keys from "@babel/runtime-corejs3/core-js-stable/object/keys";
import _Object$getOwnPropertySymbols from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols";
import _filterInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/filter";
import _Object$getOwnPropertyDescriptor from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor";
import _forEachInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/for-each";
import _Object$getOwnPropertyDescriptors from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors";
import _Object$defineProperties from "@babel/runtime-corejs3/core-js-stable/object/define-properties";
import _Object$defineProperty from "@babel/runtime-corejs3/core-js-stable/object/define-property";
import _Reflect$construct from "@babel/runtime-corejs3/core-js-stable/reflect/construct";
import _get from "@babel/runtime-corejs3/helpers/get";
import _possibleConstructorReturn from "@babel/runtime-corejs3/helpers/possibleConstructorReturn";
import _getPrototypeOf from "@babel/runtime-corejs3/helpers/getPrototypeOf";
import _inherits from "@babel/runtime-corejs3/helpers/inherits";
import _asyncToGenerator from "@babel/runtime-corejs3/helpers/asyncToGenerator";
import _classCallCheck from "@babel/runtime-corejs3/helpers/classCallCheck";
import _createClass from "@babel/runtime-corejs3/helpers/createClass";
import _defineProperty from "@babel/runtime-corejs3/helpers/defineProperty";
import _objectWithoutProperties from "@babel/runtime-corejs3/helpers/objectWithoutProperties";
var _excluded = ["$"];
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? _Reflect$construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
import "core-js/modules/es.error.cause.js";
import "core-js/modules/es.array.push.js";
import "core-js/modules/es.object.to-string.js";
import "core-js/modules/es.regexp.to-string.js";
import _regeneratorRuntime from "@babel/runtime-corejs3/regenerator";
import _Array$isArray from "@babel/runtime-corejs3/core-js-stable/array/is-array";
import _mapInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/map";
import _concatInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/concat";
import _JSON$stringify from "@babel/runtime-corejs3/core-js-stable/json/stringify";
import _Promise from "@babel/runtime-corejs3/core-js-stable/promise";
import _setTimeout from "@babel/runtime-corejs3/core-js-stable/set-timeout";
function ownKeys(e, r) { var t = _Object$keys(e); if (_Object$getOwnPropertySymbols) { var o = _Object$getOwnPropertySymbols(e); r && (o = _filterInstanceProperty(o).call(o, function (r) { return _Object$getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context15, _context16; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _forEachInstanceProperty(_context15 = ownKeys(Object(t), !0)).call(_context15, function (r) { _defineProperty(e, r, t[r]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(e, _Object$getOwnPropertyDescriptors(t)) : _forEachInstanceProperty(_context16 = ownKeys(Object(t))).call(_context16, function (r) { _Object$defineProperty(e, r, _Object$getOwnPropertyDescriptor(t, r)); }); } return e; }
/**
 * @file Manages Salesforce Metadata API
 * @author Shinichi Tomita <shinichi.tomita@gmail.com>
 */
import { EventEmitter } from 'events';
import { Readable } from 'stream';
import FormData from 'form-data';
import { registerModule } from '../jsforce';
import SOAP from '../soap';
import { isObject } from '../util/function';
import { ApiSchemas } from './metadata/schema';
export * from './metadata/schema';

/**
 *
 */

/**
 *
 */
function deallocateTypeWithMetadata(metadata) {
  var _ref = metadata,
    $ = _ref.$,
    md = _objectWithoutProperties(_ref, _excluded);
  return md;
}
function assignTypeWithMetadata(metadata, type) {
  var convert = function convert(md) {
    return _objectSpread(_defineProperty({}, '@xsi:type', type), md);
  };
  return _Array$isArray(metadata) ? _mapInstanceProperty(metadata).call(metadata, convert) : convert(metadata);
}

/**
 * Class for Salesforce Metadata API
 */
export var MetadataApi = /*#__PURE__*/function () {
  /**
   *
   */
  function MetadataApi(conn) {
    _classCallCheck(this, MetadataApi);
    /**
     * Polling interval in milliseconds
     */
    _defineProperty(this, "pollInterval", 1000);
    /**
     * Polling timeout in milliseconds
     */
    _defineProperty(this, "pollTimeout", 10000);
    this._conn = conn;
  }

  /**
   * Call Metadata API SOAP endpoint
   *
   * @private
   */
  return _createClass(MetadataApi, [{
    key: "_invoke",
    value: (function () {
      var _invoke2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(method, message, schema) {
        var _context;
        var soapEndpoint, res;
        return _regeneratorRuntime.wrap(function _callee$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              soapEndpoint = new SOAP(this._conn, {
                xmlns: 'http://soap.sforce.com/2006/04/metadata',
                endpointUrl: _concatInstanceProperty(_context = "".concat(this._conn.instanceUrl, "/services/Soap/m/")).call(_context, this._conn.version)
              });
              _context2.next = 3;
              return soapEndpoint.invoke(method, message, schema ? {
                result: schema
              } : undefined, ApiSchemas);
            case 3:
              res = _context2.sent;
              return _context2.abrupt("return", res.result);
            case 5:
            case "end":
              return _context2.stop();
          }
        }, _callee, this);
      }));
      function _invoke(_x, _x2, _x3) {
        return _invoke2.apply(this, arguments);
      }
      return _invoke;
    }()
    /**
     * Add one or more new metadata components to the organization.
     */
    )
  }, {
    key: "create",
    value: function create(type, metadata) {
      var isArray = _Array$isArray(metadata);
      metadata = assignTypeWithMetadata(metadata, type);
      var schema = isArray ? [ApiSchemas.SaveResult] : ApiSchemas.SaveResult;
      return this._invoke('createMetadata', {
        metadata: metadata
      }, schema);
    }

    /**
     * Read specified metadata components in the organization.
     */
  }, {
    key: "read",
    value: function () {
      var _read = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(type, fullNames) {
        var _context3;
        var ReadResultSchema, res;
        return _regeneratorRuntime.wrap(function _callee2$(_context4) {
          while (1) switch (_context4.prev = _context4.next) {
            case 0:
              ReadResultSchema = type in ApiSchemas ? {
                type: ApiSchemas.ReadResult.type,
                props: {
                  records: [type]
                }
              } : ApiSchemas.ReadResult;
              _context4.next = 3;
              return this._invoke('readMetadata', {
                type: type,
                fullNames: fullNames
              }, ReadResultSchema);
            case 3:
              res = _context4.sent;
              return _context4.abrupt("return", _Array$isArray(fullNames) ? _mapInstanceProperty(_context3 = res.records).call(_context3, deallocateTypeWithMetadata) : deallocateTypeWithMetadata(res.records[0]));
            case 5:
            case "end":
              return _context4.stop();
          }
        }, _callee2, this);
      }));
      function read(_x4, _x5) {
        return _read.apply(this, arguments);
      }
      return read;
    }()
    /**
     * Update one or more metadata components in the organization.
     */
  }, {
    key: "update",
    value: function update(type, metadata) {
      var isArray = _Array$isArray(metadata);
      metadata = assignTypeWithMetadata(metadata, type);
      var schema = isArray ? [ApiSchemas.SaveResult] : ApiSchemas.SaveResult;
      return this._invoke('updateMetadata', {
        metadata: metadata
      }, schema);
    }

    /**
     * Upsert one or more components in your organization's data.
     */
  }, {
    key: "upsert",
    value: function upsert(type, metadata) {
      var isArray = _Array$isArray(metadata);
      metadata = assignTypeWithMetadata(metadata, type);
      var schema = isArray ? [ApiSchemas.UpsertResult] : ApiSchemas.UpsertResult;
      return this._invoke('upsertMetadata', {
        metadata: metadata
      }, schema);
    }

    /**
     * Deletes specified metadata components in the organization.
     */
  }, {
    key: "delete",
    value: function _delete(type, fullNames) {
      var schema = _Array$isArray(fullNames) ? [ApiSchemas.SaveResult] : ApiSchemas.SaveResult;
      return this._invoke('deleteMetadata', {
        type: type,
        fullNames: fullNames
      }, schema);
    }

    /**
     * Rename fullname of a metadata component in the organization
     */
  }, {
    key: "rename",
    value: function rename(type, oldFullName, newFullName) {
      return this._invoke('renameMetadata', {
        type: type,
        oldFullName: oldFullName,
        newFullName: newFullName
      }, ApiSchemas.SaveResult);
    }

    /**
     * Retrieves the metadata which describes your organization, including Apex classes and triggers,
     * custom objects, custom fields on standard objects, tab sets that define an app,
     * and many other components.
     */
  }, {
    key: "describe",
    value: function describe(asOfVersion) {
      if (!asOfVersion) {
        asOfVersion = this._conn.version;
      }
      return this._invoke('describeMetadata', {
        asOfVersion: asOfVersion
      }, ApiSchemas.DescribeMetadataResult);
    }

    /**
     * Retrieves property information about metadata components in your organization
     */
  }, {
    key: "list",
    value: function list(queries, asOfVersion) {
      if (!asOfVersion) {
        asOfVersion = this._conn.version;
      }
      return this._invoke('listMetadata', {
        queries: queries,
        asOfVersion: asOfVersion
      }, [ApiSchemas.FileProperties]);
    }

    /**
     * Checks the status of asynchronous metadata calls
     */
  }, {
    key: "checkStatus",
    value: function checkStatus(asyncProcessId) {
      var res = this._invoke('checkStatus', {
        asyncProcessId: asyncProcessId
      }, ApiSchemas.AsyncResult);
      return new AsyncResultLocator(this, res);
    }

    /**
     * Retrieves XML file representations of components in an organization
     */
  }, {
    key: "retrieve",
    value: function retrieve(request) {
      var res = this._invoke('retrieve', {
        request: request
      }, ApiSchemas.RetrieveResult);
      return new RetrieveResultLocator(this, res);
    }

    /**
     * Checks the status of declarative metadata call retrieve() and returns the zip file contents
     */
  }, {
    key: "checkRetrieveStatus",
    value: function checkRetrieveStatus(asyncProcessId) {
      return this._invoke('checkRetrieveStatus', {
        asyncProcessId: asyncProcessId
      }, ApiSchemas.RetrieveResult);
    }

    /**
     * Will deploy a recently validated deploy request
     *
     * @param options.id = the deploy ID that's been validated already from a previous checkOnly deploy request
     * @param options.rest = a boolean whether or not to use the REST API
     * @returns the deploy ID of the recent validation request
     */
  }, {
    key: "deployRecentValidation",
    value: (function () {
      var _deployRecentValidation = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(options) {
        var id, rest, response, messageBody, requestInfo, requestOptions;
        return _regeneratorRuntime.wrap(function _callee3$(_context5) {
          while (1) switch (_context5.prev = _context5.next) {
            case 0:
              id = options.id, rest = options.rest;
              if (!rest) {
                _context5.next = 10;
                break;
              }
              messageBody = _JSON$stringify({
                validatedDeployRequestId: id
              });
              requestInfo = {
                method: 'POST',
                url: "".concat(this._conn._baseUrl(), "/metadata/deployRequest"),
                body: messageBody,
                headers: {
                  'content-type': 'application/json'
                }
              };
              requestOptions = {
                headers: 'json'
              }; // This is the deploy ID of the deployRecentValidation response, not
              // the already validated deploy ID (i.e., validateddeployrequestid).
              // REST returns an object with an id property, SOAP returns the id as a string directly.
              _context5.next = 7;
              return this._conn.request(requestInfo, requestOptions);
            case 7:
              response = _context5.sent.id;
              _context5.next = 13;
              break;
            case 10:
              _context5.next = 12;
              return this._invoke('deployRecentValidation', {
                validationId: id
              });
            case 12:
              response = _context5.sent;
            case 13:
              return _context5.abrupt("return", response);
            case 14:
            case "end":
              return _context5.stop();
          }
        }, _callee3, this);
      }));
      function deployRecentValidation(_x6) {
        return _deployRecentValidation.apply(this, arguments);
      }
      return deployRecentValidation;
    }()
    /**
     * Deploy components into an organization using zipped file representations
     * using the REST Metadata API instead of SOAP
     */
    )
  }, {
    key: "deployRest",
    value: function deployRest(zipInput) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var form = new FormData();
      form.append('file', zipInput, {
        contentType: 'application/zip',
        filename: 'package.xml'
      });

      // Add the deploy options
      form.append('entity_content', _JSON$stringify({
        deployOptions: options
      }), {
        contentType: 'application/json'
      });
      var request = {
        url: '/metadata/deployRequest',
        method: 'POST',
        headers: _objectSpread({}, form.getHeaders()),
        body: form.getBuffer()
      };
      var res = this._conn.request(request);
      return new DeployResultLocator(this, res);
    }

    /**
     * Deploy components into an organization using zipped file representations
     */
  }, {
    key: "deploy",
    value: function deploy(zipInput) {
      var _this = this;
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var res = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {
        var zipContentB64;
        return _regeneratorRuntime.wrap(function _callee4$(_context6) {
          while (1) switch (_context6.prev = _context6.next) {
            case 0:
              _context6.next = 2;
              return new _Promise(function (resolve, reject) {
                if (isObject(zipInput) && 'pipe' in zipInput && typeof zipInput.pipe === 'function') {
                  var bufs = [];
                  zipInput.on('data', function (d) {
                    return bufs.push(d);
                  });
                  zipInput.on('error', reject);
                  zipInput.on('end', function () {
                    resolve(_concatInstanceProperty(Buffer).call(Buffer, bufs).toString('base64'));
                  });
                  // zipInput.resume();
                } else if (zipInput instanceof Buffer) {
                  resolve(zipInput.toString('base64'));
                } else if (zipInput instanceof String || typeof zipInput === 'string') {
                  resolve(zipInput);
                } else {
                  throw 'Unexpected zipInput type';
                }
              });
            case 2:
              zipContentB64 = _context6.sent;
              return _context6.abrupt("return", _this._invoke('deploy', {
                ZipFile: zipContentB64,
                DeployOptions: options
              }, ApiSchemas.DeployResult));
            case 4:
            case "end":
              return _context6.stop();
          }
        }, _callee4);
      }))();
      return new DeployResultLocator(this, res);
    }

    /**
     * Checks the status of declarative metadata call deploy(), using either
     * SOAP or REST APIs. SOAP is the default.
     */
  }, {
    key: "checkDeployStatus",
    value: (function () {
      var _checkDeployStatus = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(asyncProcessId) {
        var includeDetails,
          rest,
          _context7,
          url,
          _args5 = arguments;
        return _regeneratorRuntime.wrap(function _callee5$(_context8) {
          while (1) switch (_context8.prev = _context8.next) {
            case 0:
              includeDetails = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : false;
              rest = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : false;
              if (!rest) {
                _context8.next = 9;
                break;
              }
              url = _concatInstanceProperty(_context7 = "/metadata/deployRequest/".concat(asyncProcessId)).call(_context7, includeDetails ? '?includeDetails=true' : '');
              _context8.next = 6;
              return this._conn.requestGet(url);
            case 6:
              return _context8.abrupt("return", _context8.sent.deployResult);
            case 9:
              return _context8.abrupt("return", this._invoke('checkDeployStatus', {
                asyncProcessId: asyncProcessId,
                includeDetails: includeDetails
              }, ApiSchemas.DeployResult));
            case 10:
            case "end":
              return _context8.stop();
          }
        }, _callee5, this);
      }));
      function checkDeployStatus(_x7) {
        return _checkDeployStatus.apply(this, arguments);
      }
      return checkDeployStatus;
    }())
  }, {
    key: "cancelDeploy",
    value: function () {
      var _cancelDeploy = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id) {
        return _regeneratorRuntime.wrap(function _callee6$(_context9) {
          while (1) switch (_context9.prev = _context9.next) {
            case 0:
              return _context9.abrupt("return", this._invoke('cancelDeploy', {
                id: id
              }));
            case 1:
            case "end":
              return _context9.stop();
          }
        }, _callee6, this);
      }));
      function cancelDeploy(_x8) {
        return _cancelDeploy.apply(this, arguments);
      }
      return cancelDeploy;
    }()
  }]);
}();

/*--------------------------------------------*/

/**
 * The locator class for Metadata API asynchronous call result
 */
export var AsyncResultLocator = /*#__PURE__*/function (_EventEmitter) {
  /**
   *
   */
  function AsyncResultLocator(meta, promise) {
    var _this2;
    _classCallCheck(this, AsyncResultLocator);
    _this2 = _callSuper(this, AsyncResultLocator);
    _this2._meta = meta;
    _this2._promise = promise;
    return _this2;
  }

  /**
   * Promise/A+ interface
   * http://promises-aplus.github.io/promises-spec/
   *
   * @method Metadata~AsyncResultLocator#then
   */
  _inherits(AsyncResultLocator, _EventEmitter);
  return _createClass(AsyncResultLocator, [{
    key: "then",
    value: function then(onResolve, onReject) {
      return this._promise.then(onResolve, onReject);
    }

    /**
     * Check the status of async request
     */
  }, {
    key: "check",
    value: (function () {
      var _check = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {
        var result;
        return _regeneratorRuntime.wrap(function _callee7$(_context10) {
          while (1) switch (_context10.prev = _context10.next) {
            case 0:
              _context10.next = 2;
              return this._promise;
            case 2:
              result = _context10.sent;
              this._id = result.id;
              return _context10.abrupt("return", this._meta.checkStatus(result.id));
            case 5:
            case "end":
              return _context10.stop();
          }
        }, _callee7, this);
      }));
      function check() {
        return _check.apply(this, arguments);
      }
      return check;
    }()
    /**
     * Polling until async call status becomes complete or error
     */
    )
  }, {
    key: "poll",
    value: function poll(interval, timeout) {
      var _this3 = this;
      var startTime = new Date().getTime();
      var poll = /*#__PURE__*/function () {
        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {
          var now, errMsg, result;
          return _regeneratorRuntime.wrap(function _callee8$(_context11) {
            while (1) switch (_context11.prev = _context11.next) {
              case 0:
                _context11.prev = 0;
                now = new Date().getTime();
                if (!(startTime + timeout < now)) {
                  _context11.next = 7;
                  break;
                }
                errMsg = 'Polling time out.';
                if (_this3._id) {
                  errMsg += ' Process Id = ' + _this3._id;
                }
                _this3.emit('error', new Error(errMsg));
                return _context11.abrupt("return");
              case 7:
                _context11.next = 9;
                return _this3.check();
              case 9:
                result = _context11.sent;
                if (result.done) {
                  _this3.emit('complete', result);
                } else {
                  _this3.emit('progress', result);
                  _setTimeout(poll, interval);
                }
                _context11.next = 16;
                break;
              case 13:
                _context11.prev = 13;
                _context11.t0 = _context11["catch"](0);
                _this3.emit('error', _context11.t0);
              case 16:
              case "end":
                return _context11.stop();
            }
          }, _callee8, null, [[0, 13]]);
        }));
        return function poll() {
          return _ref3.apply(this, arguments);
        };
      }();
      _setTimeout(poll, interval);
    }

    /**
     * Check and wait until the async requests become in completed status
     */
  }, {
    key: "complete",
    value: function complete() {
      var _this4 = this;
      return new _Promise(function (resolve, reject) {
        _this4.on('complete', resolve);
        _this4.on('error', reject);
        _this4.poll(_this4._meta.pollInterval, _this4._meta.pollTimeout);
      });
    }
  }]);
}(EventEmitter);

/*--------------------------------------------*/
/**
 * The locator class to track retreive() Metadata API call result
 */
export var RetrieveResultLocator = /*#__PURE__*/function (_AsyncResultLocator) {
  function RetrieveResultLocator() {
    _classCallCheck(this, RetrieveResultLocator);
    return _callSuper(this, RetrieveResultLocator, arguments);
  }
  _inherits(RetrieveResultLocator, _AsyncResultLocator);
  return _createClass(RetrieveResultLocator, [{
    key: "complete",
    value: (
    /**
     * Check and wait until the async request becomes in completed status,
     * and retrieve the result data.
     */
    function () {
      var _complete = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {
        var result;
        return _regeneratorRuntime.wrap(function _callee9$(_context12) {
          while (1) switch (_context12.prev = _context12.next) {
            case 0:
              _context12.next = 2;
              return _get(_getPrototypeOf(RetrieveResultLocator.prototype), "complete", this).call(this);
            case 2:
              result = _context12.sent;
              return _context12.abrupt("return", this._meta.checkRetrieveStatus(result.id));
            case 4:
            case "end":
              return _context12.stop();
          }
        }, _callee9, this);
      }));
      function complete() {
        return _complete.apply(this, arguments);
      }
      return complete;
    }()
    /**
     * Change the retrieved result to Node.js readable stream
     */
    )
  }, {
    key: "stream",
    value: function stream() {
      var _this5 = this;
      var resultStream = new Readable();
      var reading = false;
      resultStream._read = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {
        var result;
        return _regeneratorRuntime.wrap(function _callee10$(_context13) {
          while (1) switch (_context13.prev = _context13.next) {
            case 0:
              if (!reading) {
                _context13.next = 2;
                break;
              }
              return _context13.abrupt("return");
            case 2:
              reading = true;
              _context13.prev = 3;
              _context13.next = 6;
              return _this5.complete();
            case 6:
              result = _context13.sent;
              resultStream.push(Buffer.from(result.zipFile, 'base64'));
              resultStream.push(null);
              _context13.next = 14;
              break;
            case 11:
              _context13.prev = 11;
              _context13.t0 = _context13["catch"](3);
              resultStream.emit('error', _context13.t0);
            case 14:
            case "end":
              return _context13.stop();
          }
        }, _callee10, null, [[3, 11]]);
      }));
      return resultStream;
    }
  }]);
}(AsyncResultLocator);

/*--------------------------------------------*/
/**
 * The locator class to track deploy() Metadata API call result
 *
 * @protected
 * @class Metadata~DeployResultLocator
 * @extends Metadata~AsyncResultLocator
 * @param {Metadata} meta - Metadata API object
 * @param {Promise.<Metadata~AsyncResult>} result - Promise object for async result of deploy() call
 */
export var DeployResultLocator = /*#__PURE__*/function (_AsyncResultLocator2) {
  function DeployResultLocator() {
    _classCallCheck(this, DeployResultLocator);
    return _callSuper(this, DeployResultLocator, arguments);
  }
  _inherits(DeployResultLocator, _AsyncResultLocator2);
  return _createClass(DeployResultLocator, [{
    key: "complete",
    value: (
    /**
     * Check and wait until the async request becomes in completed status,
     * and retrieve the result data.
     */
    function () {
      var _complete2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(includeDetails) {
        var result;
        return _regeneratorRuntime.wrap(function _callee11$(_context14) {
          while (1) switch (_context14.prev = _context14.next) {
            case 0:
              _context14.next = 2;
              return _get(_getPrototypeOf(DeployResultLocator.prototype), "complete", this).call(this);
            case 2:
              result = _context14.sent;
              return _context14.abrupt("return", this._meta.checkDeployStatus(result.id, includeDetails));
            case 4:
            case "end":
              return _context14.stop();
          }
        }, _callee11, this);
      }));
      function complete(_x9) {
        return _complete2.apply(this, arguments);
      }
      return complete;
    }())
  }]);
}(AsyncResultLocator);

/*--------------------------------------------*/
/*
 * Register hook in connection instantiation for dynamically adding this API module features
 */
registerModule('metadata', function (conn) {
  return new MetadataApi(conn);
});
export default MetadataApi;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJSZWFkYWJsZSIsIkZvcm1EYXRhIiwicmVnaXN0ZXJNb2R1bGUiLCJTT0FQIiwiaXNPYmplY3QiLCJBcGlTY2hlbWFzIiwiZGVhbGxvY2F0ZVR5cGVXaXRoTWV0YWRhdGEiLCJtZXRhZGF0YSIsIl9yZWYiLCIkIiwibWQiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJfZXhjbHVkZWQiLCJhc3NpZ25UeXBlV2l0aE1ldGFkYXRhIiwidHlwZSIsImNvbnZlcnQiLCJfb2JqZWN0U3ByZWFkIiwiX2RlZmluZVByb3BlcnR5IiwiX0FycmF5JGlzQXJyYXkiLCJfbWFwSW5zdGFuY2VQcm9wZXJ0eSIsImNhbGwiLCJNZXRhZGF0YUFwaSIsImNvbm4iLCJfY2xhc3NDYWxsQ2hlY2siLCJfY29ubiIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwiX2ludm9rZTIiLCJfYXN5bmNUb0dlbmVyYXRvciIsIl9yZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZSIsIm1ldGhvZCIsIm1lc3NhZ2UiLCJzY2hlbWEiLCJfY29udGV4dCIsInNvYXBFbmRwb2ludCIsInJlcyIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0MiIsInByZXYiLCJuZXh0IiwieG1sbnMiLCJlbmRwb2ludFVybCIsIl9jb25jYXRJbnN0YW5jZVByb3BlcnR5IiwiY29uY2F0IiwiaW5zdGFuY2VVcmwiLCJ2ZXJzaW9uIiwiaW52b2tlIiwicmVzdWx0IiwidW5kZWZpbmVkIiwic2VudCIsImFicnVwdCIsInN0b3AiLCJfaW52b2tlIiwiX3giLCJfeDIiLCJfeDMiLCJhcHBseSIsImFyZ3VtZW50cyIsImNyZWF0ZSIsImlzQXJyYXkiLCJTYXZlUmVzdWx0IiwiX3JlYWQiLCJfY2FsbGVlMiIsImZ1bGxOYW1lcyIsIl9jb250ZXh0MyIsIlJlYWRSZXN1bHRTY2hlbWEiLCJfY2FsbGVlMiQiLCJfY29udGV4dDQiLCJSZWFkUmVzdWx0IiwicHJvcHMiLCJyZWNvcmRzIiwicmVhZCIsIl94NCIsIl94NSIsInVwZGF0ZSIsInVwc2VydCIsIlVwc2VydFJlc3VsdCIsIl9kZWxldGUiLCJyZW5hbWUiLCJvbGRGdWxsTmFtZSIsIm5ld0Z1bGxOYW1lIiwiZGVzY3JpYmUiLCJhc09mVmVyc2lvbiIsIkRlc2NyaWJlTWV0YWRhdGFSZXN1bHQiLCJsaXN0IiwicXVlcmllcyIsIkZpbGVQcm9wZXJ0aWVzIiwiY2hlY2tTdGF0dXMiLCJhc3luY1Byb2Nlc3NJZCIsIkFzeW5jUmVzdWx0IiwiQXN5bmNSZXN1bHRMb2NhdG9yIiwicmV0cmlldmUiLCJyZXF1ZXN0IiwiUmV0cmlldmVSZXN1bHQiLCJSZXRyaWV2ZVJlc3VsdExvY2F0b3IiLCJjaGVja1JldHJpZXZlU3RhdHVzIiwiX2RlcGxveVJlY2VudFZhbGlkYXRpb24iLCJfY2FsbGVlMyIsIm9wdGlvbnMiLCJpZCIsInJlc3QiLCJyZXNwb25zZSIsIm1lc3NhZ2VCb2R5IiwicmVxdWVzdEluZm8iLCJyZXF1ZXN0T3B0aW9ucyIsIl9jYWxsZWUzJCIsIl9jb250ZXh0NSIsIl9KU09OJHN0cmluZ2lmeSIsInZhbGlkYXRlZERlcGxveVJlcXVlc3RJZCIsInVybCIsIl9iYXNlVXJsIiwiYm9keSIsImhlYWRlcnMiLCJ2YWxpZGF0aW9uSWQiLCJkZXBsb3lSZWNlbnRWYWxpZGF0aW9uIiwiX3g2IiwiZGVwbG95UmVzdCIsInppcElucHV0IiwibGVuZ3RoIiwiZm9ybSIsImFwcGVuZCIsImNvbnRlbnRUeXBlIiwiZmlsZW5hbWUiLCJkZXBsb3lPcHRpb25zIiwiZ2V0SGVhZGVycyIsImdldEJ1ZmZlciIsIkRlcGxveVJlc3VsdExvY2F0b3IiLCJkZXBsb3kiLCJfdGhpcyIsIl9jYWxsZWU0IiwiemlwQ29udGVudEI2NCIsIl9jYWxsZWU0JCIsIl9jb250ZXh0NiIsIl9Qcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInBpcGUiLCJidWZzIiwib24iLCJkIiwicHVzaCIsIkJ1ZmZlciIsInRvU3RyaW5nIiwiU3RyaW5nIiwiWmlwRmlsZSIsIkRlcGxveU9wdGlvbnMiLCJEZXBsb3lSZXN1bHQiLCJfY2hlY2tEZXBsb3lTdGF0dXMiLCJfY2FsbGVlNSIsImluY2x1ZGVEZXRhaWxzIiwiX2NvbnRleHQ3IiwiX2FyZ3M1IiwiX2NhbGxlZTUkIiwiX2NvbnRleHQ4IiwicmVxdWVzdEdldCIsImRlcGxveVJlc3VsdCIsImNoZWNrRGVwbG95U3RhdHVzIiwiX3g3IiwiX2NhbmNlbERlcGxveSIsIl9jYWxsZWU2IiwiX2NhbGxlZTYkIiwiX2NvbnRleHQ5IiwiY2FuY2VsRGVwbG95IiwiX3g4IiwiX0V2ZW50RW1pdHRlciIsIm1ldGEiLCJwcm9taXNlIiwiX3RoaXMyIiwiX2NhbGxTdXBlciIsIl9tZXRhIiwiX3Byb21pc2UiLCJfaW5oZXJpdHMiLCJ0aGVuIiwib25SZXNvbHZlIiwib25SZWplY3QiLCJfY2hlY2siLCJfY2FsbGVlNyIsIl9jYWxsZWU3JCIsIl9jb250ZXh0MTAiLCJfaWQiLCJjaGVjayIsInBvbGwiLCJpbnRlcnZhbCIsInRpbWVvdXQiLCJfdGhpczMiLCJzdGFydFRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsIl9yZWYzIiwiX2NhbGxlZTgiLCJub3ciLCJlcnJNc2ciLCJfY2FsbGVlOCQiLCJfY29udGV4dDExIiwiZW1pdCIsIkVycm9yIiwiZG9uZSIsIl9zZXRUaW1lb3V0IiwidDAiLCJjb21wbGV0ZSIsIl90aGlzNCIsInBvbGxJbnRlcnZhbCIsInBvbGxUaW1lb3V0IiwiX0FzeW5jUmVzdWx0TG9jYXRvciIsIl9jb21wbGV0ZSIsIl9jYWxsZWU5IiwiX2NhbGxlZTkkIiwiX2NvbnRleHQxMiIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJzdHJlYW0iLCJfdGhpczUiLCJyZXN1bHRTdHJlYW0iLCJyZWFkaW5nIiwiX2NhbGxlZTEwIiwiX2NhbGxlZTEwJCIsIl9jb250ZXh0MTMiLCJmcm9tIiwiemlwRmlsZSIsIl9Bc3luY1Jlc3VsdExvY2F0b3IyIiwiX2NvbXBsZXRlMiIsIl9jYWxsZWUxMSIsIl9jYWxsZWUxMSQiLCJfY29udGV4dDE0IiwiX3g5Il0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FwaS9tZXRhZGF0YS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlIE1hbmFnZXMgU2FsZXNmb3JjZSBNZXRhZGF0YSBBUElcbiAqIEBhdXRob3IgU2hpbmljaGkgVG9taXRhIDxzaGluaWNoaS50b21pdGFAZ21haWwuY29tPlxuICovXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuaW1wb3J0IHsgUmVhZGFibGUgfSBmcm9tICdzdHJlYW0nO1xuaW1wb3J0IEZvcm1EYXRhIGZyb20gJ2Zvcm0tZGF0YSc7XG5pbXBvcnQgeyByZWdpc3Rlck1vZHVsZSB9IGZyb20gJy4uL2pzZm9yY2UnO1xuaW1wb3J0IENvbm5lY3Rpb24gZnJvbSAnLi4vY29ubmVjdGlvbic7XG5pbXBvcnQgU09BUCBmcm9tICcuLi9zb2FwJztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC9mdW5jdGlvbic7XG5pbXBvcnQgeyBTY2hlbWEsIFNvYXBTY2hlbWFEZWYsIFNvYXBTY2hlbWEsIEh0dHBSZXF1ZXN0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgQXBpU2NoZW1hcyxcbiAgTWV0YWRhdGEsXG4gIFJlYWRSZXN1bHQsXG4gIFNhdmVSZXN1bHQsXG4gIFVwc2VydFJlc3VsdCxcbiAgTGlzdE1ldGFkYXRhUXVlcnksXG4gIEZpbGVQcm9wZXJ0aWVzLFxuICBEZXNjcmliZU1ldGFkYXRhUmVzdWx0LFxuICBSZXRyaWV2ZVJlcXVlc3QsXG4gIERlcGxveU9wdGlvbnMsXG4gIFJldHJpZXZlUmVzdWx0LFxuICBEZXBsb3lSZXN1bHQsXG4gIEFzeW5jUmVzdWx0LFxuICBBcGlTY2hlbWFUeXBlcywgQ2FuY2VsRGVwbG95UmVzdWx0LFxufSBmcm9tICcuL21ldGFkYXRhL3NjaGVtYSc7XG5leHBvcnQgKiBmcm9tICcuL21ldGFkYXRhL3NjaGVtYSc7XG5cbi8qKlxuICpcbiAqL1xudHlwZSBNZXRhZGF0YVR5cGVfPFxuICBLIGV4dGVuZHMga2V5b2YgQXBpU2NoZW1hVHlwZXMgPSBrZXlvZiBBcGlTY2hlbWFUeXBlc1xuPiA9IEsgZXh0ZW5kcyBrZXlvZiBBcGlTY2hlbWFUeXBlc1xuICA/IEFwaVNjaGVtYVR5cGVzW0tdIGV4dGVuZHMgTWV0YWRhdGFcbiAgICA/IEtcbiAgICA6IG5ldmVyXG4gIDogbmV2ZXI7XG5cbmV4cG9ydCB0eXBlIE1ldGFkYXRhVHlwZSA9IE1ldGFkYXRhVHlwZV87XG5cbmV4cG9ydCB0eXBlIE1ldGFkYXRhRGVmaW5pdGlvbjxcbiAgVCBleHRlbmRzIHN0cmluZyxcbiAgTSBleHRlbmRzIE1ldGFkYXRhID0gTWV0YWRhdGFcbj4gPSBNZXRhZGF0YSBleHRlbmRzIE1cbiAgPyBUIGV4dGVuZHMga2V5b2YgQXBpU2NoZW1hVHlwZXMgJiBNZXRhZGF0YVR5cGVcbiAgICA/IEFwaVNjaGVtYVR5cGVzW1RdIGV4dGVuZHMgTWV0YWRhdGFcbiAgICAgID8gQXBpU2NoZW1hVHlwZXNbVF1cbiAgICAgIDogTWV0YWRhdGFcbiAgICA6IE1ldGFkYXRhXG4gIDogTTtcblxudHlwZSBEZWVwUGFydGlhbDxUPiA9IFQgZXh0ZW5kcyBhbnlbXVxuICA/IEFycmF5PERlZXBQYXJ0aWFsPFRbbnVtYmVyXT4+XG4gIDogVCBleHRlbmRzIG9iamVjdFxuICA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogVDtcblxuZXhwb3J0IHR5cGUgSW5wdXRNZXRhZGF0YURlZmluaXRpb248XG4gIFQgZXh0ZW5kcyBzdHJpbmcsXG4gIE0gZXh0ZW5kcyBNZXRhZGF0YSA9IE1ldGFkYXRhXG4+ID0gRGVlcFBhcnRpYWw8TWV0YWRhdGFEZWZpbml0aW9uPFQsIE0+PjtcblxuLyoqXG4gKlxuICovXG5mdW5jdGlvbiBkZWFsbG9jYXRlVHlwZVdpdGhNZXRhZGF0YTxNIGV4dGVuZHMgTWV0YWRhdGE+KG1ldGFkYXRhOiBNKTogTSB7XG4gIGNvbnN0IHsgJCwgLi4ubWQgfSA9IG1ldGFkYXRhIGFzIGFueTtcbiAgcmV0dXJuIG1kO1xufVxuXG5mdW5jdGlvbiBhc3NpZ25UeXBlV2l0aE1ldGFkYXRhKG1ldGFkYXRhOiBNZXRhZGF0YSB8IE1ldGFkYXRhW10sIHR5cGU6IHN0cmluZykge1xuICBjb25zdCBjb252ZXJ0ID0gKG1kOiBNZXRhZGF0YSkgPT4gKHsgWydAeHNpOnR5cGUnXTogdHlwZSwgLi4ubWQgfSk7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KG1ldGFkYXRhKSA/IG1ldGFkYXRhLm1hcChjb252ZXJ0KSA6IGNvbnZlcnQobWV0YWRhdGEpO1xufVxuXG4vKipcbiAqIENsYXNzIGZvciBTYWxlc2ZvcmNlIE1ldGFkYXRhIEFQSVxuICovXG5leHBvcnQgY2xhc3MgTWV0YWRhdGFBcGk8UyBleHRlbmRzIFNjaGVtYT4ge1xuICBfY29ubjogQ29ubmVjdGlvbjxTPjtcblxuICAvKipcbiAgICogUG9sbGluZyBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZHNcbiAgICovXG4gIHBvbGxJbnRlcnZhbDogbnVtYmVyID0gMTAwMDtcblxuICAvKipcbiAgICogUG9sbGluZyB0aW1lb3V0IGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgcG9sbFRpbWVvdXQ6IG51bWJlciA9IDEwMDAwO1xuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29ubjogQ29ubmVjdGlvbjxTPikge1xuICAgIHRoaXMuX2Nvbm4gPSBjb25uO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGwgTWV0YWRhdGEgQVBJIFNPQVAgZW5kcG9pbnRcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFzeW5jIF9pbnZva2UoXG4gICAgbWV0aG9kOiBzdHJpbmcsXG4gICAgbWVzc2FnZTogb2JqZWN0LFxuICAgIHNjaGVtYT86IFNvYXBTY2hlbWEgfCBTb2FwU2NoZW1hRGVmLFxuICApIHtcbiAgICBjb25zdCBzb2FwRW5kcG9pbnQgPSBuZXcgU09BUCh0aGlzLl9jb25uLCB7XG4gICAgICB4bWxuczogJ2h0dHA6Ly9zb2FwLnNmb3JjZS5jb20vMjAwNi8wNC9tZXRhZGF0YScsXG4gICAgICBlbmRwb2ludFVybDogYCR7dGhpcy5fY29ubi5pbnN0YW5jZVVybH0vc2VydmljZXMvU29hcC9tLyR7dGhpcy5fY29ubi52ZXJzaW9ufWAsXG4gICAgfSk7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgc29hcEVuZHBvaW50Lmludm9rZShcbiAgICAgIG1ldGhvZCxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBzY2hlbWEgPyAoeyByZXN1bHQ6IHNjaGVtYSB9IGFzIFNvYXBTY2hlbWEpIDogdW5kZWZpbmVkLFxuICAgICAgQXBpU2NoZW1hcyxcbiAgICApO1xuICAgIHJldHVybiByZXMucmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBvbmUgb3IgbW9yZSBuZXcgbWV0YWRhdGEgY29tcG9uZW50cyB0byB0aGUgb3JnYW5pemF0aW9uLlxuICAgKi9cbiAgY3JlYXRlPFxuICAgIE0gZXh0ZW5kcyBNZXRhZGF0YSA9IE1ldGFkYXRhLFxuICAgIFQgZXh0ZW5kcyBNZXRhZGF0YVR5cGUgPSBNZXRhZGF0YVR5cGUsXG4gICAgTUQgZXh0ZW5kcyBJbnB1dE1ldGFkYXRhRGVmaW5pdGlvbjxULCBNPiA9IElucHV0TWV0YWRhdGFEZWZpbml0aW9uPFQsIE0+XG4gID4odHlwZTogVCwgbWV0YWRhdGE6IE1EW10pOiBQcm9taXNlPFNhdmVSZXN1bHRbXT47XG4gIGNyZWF0ZTxcbiAgICBNIGV4dGVuZHMgTWV0YWRhdGEgPSBNZXRhZGF0YSxcbiAgICBUIGV4dGVuZHMgTWV0YWRhdGFUeXBlID0gTWV0YWRhdGFUeXBlLFxuICAgIE1EIGV4dGVuZHMgSW5wdXRNZXRhZGF0YURlZmluaXRpb248VCwgTT4gPSBJbnB1dE1ldGFkYXRhRGVmaW5pdGlvbjxULCBNPlxuICA+KHR5cGU6IFQsIG1ldGFkYXRhOiBNRCk6IFByb21pc2U8U2F2ZVJlc3VsdD47XG4gIGNyZWF0ZTxcbiAgICBNIGV4dGVuZHMgTWV0YWRhdGEgPSBNZXRhZGF0YSxcbiAgICBUIGV4dGVuZHMgTWV0YWRhdGFUeXBlID0gTWV0YWRhdGFUeXBlLFxuICAgIE1EIGV4dGVuZHMgSW5wdXRNZXRhZGF0YURlZmluaXRpb248VCwgTT4gPSBJbnB1dE1ldGFkYXRhRGVmaW5pdGlvbjxULCBNPlxuICA+KHR5cGU6IFQsIG1ldGFkYXRhOiBNRCB8IE1EW10pOiBQcm9taXNlPFNhdmVSZXN1bHQgfCBTYXZlUmVzdWx0W10+O1xuICBjcmVhdGUodHlwZTogc3RyaW5nLCBtZXRhZGF0YTogTWV0YWRhdGEgfCBNZXRhZGF0YVtdKSB7XG4gICAgY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkobWV0YWRhdGEpO1xuICAgIG1ldGFkYXRhID0gYXNzaWduVHlwZVdpdGhNZXRhZGF0YShtZXRhZGF0YSwgdHlwZSk7XG4gICAgY29uc3Qgc2NoZW1hID0gaXNBcnJheSA/IFtBcGlTY2hlbWFzLlNhdmVSZXN1bHRdIDogQXBpU2NoZW1hcy5TYXZlUmVzdWx0O1xuICAgIHJldHVybiB0aGlzLl9pbnZva2UoJ2NyZWF0ZU1ldGFkYXRhJywgeyBtZXRhZGF0YSB9LCBzY2hlbWEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgc3BlY2lmaWVkIG1ldGFkYXRhIGNvbXBvbmVudHMgaW4gdGhlIG9yZ2FuaXphdGlvbi5cbiAgICovXG4gIHJlYWQ8XG4gICAgTSBleHRlbmRzIE1ldGFkYXRhID0gTWV0YWRhdGEsXG4gICAgVCBleHRlbmRzIE1ldGFkYXRhVHlwZSA9IE1ldGFkYXRhVHlwZSxcbiAgICBNRCBleHRlbmRzIE1ldGFkYXRhRGVmaW5pdGlvbjxULCBNPiA9IE1ldGFkYXRhRGVmaW5pdGlvbjxULCBNPlxuICA+KHR5cGU6IFQsIGZ1bGxOYW1lczogc3RyaW5nW10pOiBQcm9taXNlPE1EW10+O1xuICByZWFkPFxuICAgIE0gZXh0ZW5kcyBNZXRhZGF0YSA9IE1ldGFkYXRhLFxuICAgIFQgZXh0ZW5kcyBNZXRhZGF0YVR5cGUgPSBNZXRhZGF0YVR5cGUsXG4gICAgTUQgZXh0ZW5kcyBNZXRhZGF0YURlZmluaXRpb248VCwgTT4gPSBNZXRhZGF0YURlZmluaXRpb248VCwgTT5cbiAgPih0eXBlOiBULCBmdWxsTmFtZXM6IHN0cmluZyk6IFByb21pc2U8TUQ+O1xuICByZWFkPFxuICAgIE0gZXh0ZW5kcyBNZXRhZGF0YSA9IE1ldGFkYXRhLFxuICAgIFQgZXh0ZW5kcyBNZXRhZGF0YVR5cGUgPSBNZXRhZGF0YVR5cGUsXG4gICAgTUQgZXh0ZW5kcyBNZXRhZGF0YURlZmluaXRpb248VCwgTT4gPSBNZXRhZGF0YURlZmluaXRpb248VCwgTT5cbiAgPih0eXBlOiBULCBmdWxsTmFtZXM6IHN0cmluZyB8IHN0cmluZ1tdKTogUHJvbWlzZTxNRCB8IE1EW10+O1xuICBhc3luYyByZWFkKHR5cGU6IHN0cmluZywgZnVsbE5hbWVzOiBzdHJpbmcgfCBzdHJpbmdbXSkge1xuICAgIGNvbnN0IFJlYWRSZXN1bHRTY2hlbWEgPVxuICAgICAgdHlwZSBpbiBBcGlTY2hlbWFzXG4gICAgICAgID8gKHtcbiAgICAgICAgICAgIHR5cGU6IEFwaVNjaGVtYXMuUmVhZFJlc3VsdC50eXBlLFxuICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgcmVjb3JkczogW3R5cGVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9IGFzIGNvbnN0KVxuICAgICAgICA6IEFwaVNjaGVtYXMuUmVhZFJlc3VsdDtcbiAgICBjb25zdCByZXM6IFJlYWRSZXN1bHQgPSBhd2FpdCB0aGlzLl9pbnZva2UoXG4gICAgICAncmVhZE1ldGFkYXRhJyxcbiAgICAgIHsgdHlwZSwgZnVsbE5hbWVzIH0sXG4gICAgICBSZWFkUmVzdWx0U2NoZW1hLFxuICAgICk7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZnVsbE5hbWVzKVxuICAgICAgPyByZXMucmVjb3Jkcy5tYXAoZGVhbGxvY2F0ZVR5cGVXaXRoTWV0YWRhdGEpXG4gICAgICA6IGRlYWxsb2NhdGVUeXBlV2l0aE1ldGFkYXRhKHJlcy5yZWNvcmRzWzBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgb25lIG9yIG1vcmUgbWV0YWRhdGEgY29tcG9uZW50cyBpbiB0aGUgb3JnYW5pemF0aW9uLlxuICAgKi9cbiAgdXBkYXRlPFxuICAgIE0gZXh0ZW5kcyBNZXRhZGF0YSA9IE1ldGFkYXRhLFxuICAgIFQgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmcsXG4gICAgTUQgZXh0ZW5kcyBJbnB1dE1ldGFkYXRhRGVmaW5pdGlvbjxULCBNPiA9IElucHV0TWV0YWRhdGFEZWZpbml0aW9uPFQsIE0+XG4gID4odHlwZTogVCwgbWV0YWRhdGE6IEFycmF5PFBhcnRpYWw8TUQ+Pik6IFByb21pc2U8U2F2ZVJlc3VsdFtdPjtcbiAgdXBkYXRlPFxuICAgIE0gZXh0ZW5kcyBNZXRhZGF0YSA9IE1ldGFkYXRhLFxuICAgIFQgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmcsXG4gICAgTUQgZXh0ZW5kcyBJbnB1dE1ldGFkYXRhRGVmaW5pdGlvbjxULCBNPiA9IElucHV0TWV0YWRhdGFEZWZpbml0aW9uPFQsIE0+XG4gID4odHlwZTogVCwgbWV0YWRhdGE6IFBhcnRpYWw8TUQ+KTogUHJvbWlzZTxTYXZlUmVzdWx0PjtcbiAgdXBkYXRlPFxuICAgIE0gZXh0ZW5kcyBNZXRhZGF0YSA9IE1ldGFkYXRhLFxuICAgIFQgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmcsXG4gICAgTUQgZXh0ZW5kcyBJbnB1dE1ldGFkYXRhRGVmaW5pdGlvbjxULCBNPiA9IElucHV0TWV0YWRhdGFEZWZpbml0aW9uPFQsIE0+XG4gID4oXG4gICAgdHlwZTogVCxcbiAgICBtZXRhZGF0YTogUGFydGlhbDxNRD4gfCBBcnJheTxQYXJ0aWFsPE1EPj4sXG4gICk6IFByb21pc2U8U2F2ZVJlc3VsdCB8IFNhdmVSZXN1bHRbXT47XG4gIHVwZGF0ZSh0eXBlOiBzdHJpbmcsIG1ldGFkYXRhOiBNZXRhZGF0YSB8IE1ldGFkYXRhW10pIHtcbiAgICBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShtZXRhZGF0YSk7XG4gICAgbWV0YWRhdGEgPSBhc3NpZ25UeXBlV2l0aE1ldGFkYXRhKG1ldGFkYXRhLCB0eXBlKTtcbiAgICBjb25zdCBzY2hlbWEgPSBpc0FycmF5ID8gW0FwaVNjaGVtYXMuU2F2ZVJlc3VsdF0gOiBBcGlTY2hlbWFzLlNhdmVSZXN1bHQ7XG4gICAgcmV0dXJuIHRoaXMuX2ludm9rZSgndXBkYXRlTWV0YWRhdGEnLCB7IG1ldGFkYXRhIH0sIHNjaGVtYSk7XG4gIH1cblxuICAvKipcbiAgICogVXBzZXJ0IG9uZSBvciBtb3JlIGNvbXBvbmVudHMgaW4geW91ciBvcmdhbml6YXRpb24ncyBkYXRhLlxuICAgKi9cbiAgdXBzZXJ0PFxuICAgIE0gZXh0ZW5kcyBNZXRhZGF0YSA9IE1ldGFkYXRhLFxuICAgIFQgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmcsXG4gICAgTUQgZXh0ZW5kcyBJbnB1dE1ldGFkYXRhRGVmaW5pdGlvbjxULCBNPiA9IElucHV0TWV0YWRhdGFEZWZpbml0aW9uPFQsIE0+XG4gID4odHlwZTogVCwgbWV0YWRhdGE6IE1EW10pOiBQcm9taXNlPFVwc2VydFJlc3VsdFtdPjtcbiAgdXBzZXJ0PFxuICAgIE0gZXh0ZW5kcyBNZXRhZGF0YSA9IE1ldGFkYXRhLFxuICAgIFQgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmcsXG4gICAgTUQgZXh0ZW5kcyBJbnB1dE1ldGFkYXRhRGVmaW5pdGlvbjxULCBNPiA9IElucHV0TWV0YWRhdGFEZWZpbml0aW9uPFQsIE0+XG4gID4odHlwZTogVCwgbWV0YWRhdGE6IE1EKTogUHJvbWlzZTxVcHNlcnRSZXN1bHQ+O1xuICB1cHNlcnQ8XG4gICAgTSBleHRlbmRzIE1ldGFkYXRhID0gTWV0YWRhdGEsXG4gICAgVCBleHRlbmRzIHN0cmluZyA9IHN0cmluZyxcbiAgICBNRCBleHRlbmRzIElucHV0TWV0YWRhdGFEZWZpbml0aW9uPFQsIE0+ID0gSW5wdXRNZXRhZGF0YURlZmluaXRpb248VCwgTT5cbiAgPih0eXBlOiBULCBtZXRhZGF0YTogTUQgfCBNRFtdKTogUHJvbWlzZTxVcHNlcnRSZXN1bHQgfCBVcHNlcnRSZXN1bHRbXT47XG4gIHVwc2VydCh0eXBlOiBzdHJpbmcsIG1ldGFkYXRhOiBNZXRhZGF0YSB8IE1ldGFkYXRhW10pIHtcbiAgICBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShtZXRhZGF0YSk7XG4gICAgbWV0YWRhdGEgPSBhc3NpZ25UeXBlV2l0aE1ldGFkYXRhKG1ldGFkYXRhLCB0eXBlKTtcbiAgICBjb25zdCBzY2hlbWEgPSBpc0FycmF5XG4gICAgICA/IFtBcGlTY2hlbWFzLlVwc2VydFJlc3VsdF1cbiAgICAgIDogQXBpU2NoZW1hcy5VcHNlcnRSZXN1bHQ7XG4gICAgcmV0dXJuIHRoaXMuX2ludm9rZSgndXBzZXJ0TWV0YWRhdGEnLCB7IG1ldGFkYXRhIH0sIHNjaGVtYSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBzcGVjaWZpZWQgbWV0YWRhdGEgY29tcG9uZW50cyBpbiB0aGUgb3JnYW5pemF0aW9uLlxuICAgKi9cbiAgZGVsZXRlKHR5cGU6IHN0cmluZywgZnVsbE5hbWVzOiBzdHJpbmdbXSk6IFByb21pc2U8U2F2ZVJlc3VsdFtdPjtcbiAgZGVsZXRlKHR5cGU6IHN0cmluZywgZnVsbE5hbWVzOiBzdHJpbmcpOiBQcm9taXNlPFNhdmVSZXN1bHQ+O1xuICBkZWxldGUoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGZ1bGxOYW1lczogc3RyaW5nIHwgc3RyaW5nW10sXG4gICk6IFByb21pc2U8U2F2ZVJlc3VsdCB8IFNhdmVSZXN1bHRbXT47XG4gIGRlbGV0ZSh0eXBlOiBzdHJpbmcsIGZ1bGxOYW1lczogc3RyaW5nIHwgc3RyaW5nW10pIHtcbiAgICBjb25zdCBzY2hlbWEgPSBBcnJheS5pc0FycmF5KGZ1bGxOYW1lcylcbiAgICAgID8gW0FwaVNjaGVtYXMuU2F2ZVJlc3VsdF1cbiAgICAgIDogQXBpU2NoZW1hcy5TYXZlUmVzdWx0O1xuICAgIHJldHVybiB0aGlzLl9pbnZva2UoJ2RlbGV0ZU1ldGFkYXRhJywgeyB0eXBlLCBmdWxsTmFtZXMgfSwgc2NoZW1hKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5hbWUgZnVsbG5hbWUgb2YgYSBtZXRhZGF0YSBjb21wb25lbnQgaW4gdGhlIG9yZ2FuaXphdGlvblxuICAgKi9cbiAgcmVuYW1lKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBvbGRGdWxsTmFtZTogc3RyaW5nLFxuICAgIG5ld0Z1bGxOYW1lOiBzdHJpbmcsXG4gICk6IFByb21pc2U8U2F2ZVJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLl9pbnZva2UoXG4gICAgICAncmVuYW1lTWV0YWRhdGEnLFxuICAgICAgeyB0eXBlLCBvbGRGdWxsTmFtZSwgbmV3RnVsbE5hbWUgfSxcbiAgICAgIEFwaVNjaGVtYXMuU2F2ZVJlc3VsdCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbWV0YWRhdGEgd2hpY2ggZGVzY3JpYmVzIHlvdXIgb3JnYW5pemF0aW9uLCBpbmNsdWRpbmcgQXBleCBjbGFzc2VzIGFuZCB0cmlnZ2VycyxcbiAgICogY3VzdG9tIG9iamVjdHMsIGN1c3RvbSBmaWVsZHMgb24gc3RhbmRhcmQgb2JqZWN0cywgdGFiIHNldHMgdGhhdCBkZWZpbmUgYW4gYXBwLFxuICAgKiBhbmQgbWFueSBvdGhlciBjb21wb25lbnRzLlxuICAgKi9cbiAgZGVzY3JpYmUoYXNPZlZlcnNpb24/OiBzdHJpbmcpOiBQcm9taXNlPERlc2NyaWJlTWV0YWRhdGFSZXN1bHQ+IHtcbiAgICBpZiAoIWFzT2ZWZXJzaW9uKSB7XG4gICAgICBhc09mVmVyc2lvbiA9IHRoaXMuX2Nvbm4udmVyc2lvbjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2ludm9rZShcbiAgICAgICdkZXNjcmliZU1ldGFkYXRhJyxcbiAgICAgIHsgYXNPZlZlcnNpb24gfSxcbiAgICAgIEFwaVNjaGVtYXMuRGVzY3JpYmVNZXRhZGF0YVJlc3VsdCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBwcm9wZXJ0eSBpbmZvcm1hdGlvbiBhYm91dCBtZXRhZGF0YSBjb21wb25lbnRzIGluIHlvdXIgb3JnYW5pemF0aW9uXG4gICAqL1xuICBsaXN0KFxuICAgIHF1ZXJpZXM6IExpc3RNZXRhZGF0YVF1ZXJ5IHwgTGlzdE1ldGFkYXRhUXVlcnlbXSxcbiAgICBhc09mVmVyc2lvbj86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxGaWxlUHJvcGVydGllc1tdPiB7XG4gICAgaWYgKCFhc09mVmVyc2lvbikge1xuICAgICAgYXNPZlZlcnNpb24gPSB0aGlzLl9jb25uLnZlcnNpb247XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pbnZva2UoJ2xpc3RNZXRhZGF0YScsIHsgcXVlcmllcywgYXNPZlZlcnNpb24gfSwgW1xuICAgICAgQXBpU2NoZW1hcy5GaWxlUHJvcGVydGllcyxcbiAgICBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgdGhlIHN0YXR1cyBvZiBhc3luY2hyb25vdXMgbWV0YWRhdGEgY2FsbHNcbiAgICovXG4gIGNoZWNrU3RhdHVzKGFzeW5jUHJvY2Vzc0lkOiBzdHJpbmcpIHtcbiAgICBjb25zdCByZXMgPSB0aGlzLl9pbnZva2UoXG4gICAgICAnY2hlY2tTdGF0dXMnLFxuICAgICAgeyBhc3luY1Byb2Nlc3NJZCB9LFxuICAgICAgQXBpU2NoZW1hcy5Bc3luY1Jlc3VsdCxcbiAgICApO1xuICAgIHJldHVybiBuZXcgQXN5bmNSZXN1bHRMb2NhdG9yKHRoaXMsIHJlcyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIFhNTCBmaWxlIHJlcHJlc2VudGF0aW9ucyBvZiBjb21wb25lbnRzIGluIGFuIG9yZ2FuaXphdGlvblxuICAgKi9cbiAgcmV0cmlldmUocmVxdWVzdDogUGFydGlhbDxSZXRyaWV2ZVJlcXVlc3Q+KSB7XG4gICAgY29uc3QgcmVzID0gdGhpcy5faW52b2tlKFxuICAgICAgJ3JldHJpZXZlJyxcbiAgICAgIHsgcmVxdWVzdCB9LFxuICAgICAgQXBpU2NoZW1hcy5SZXRyaWV2ZVJlc3VsdCxcbiAgICApO1xuICAgIHJldHVybiBuZXcgUmV0cmlldmVSZXN1bHRMb2NhdG9yKHRoaXMsIHJlcyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHRoZSBzdGF0dXMgb2YgZGVjbGFyYXRpdmUgbWV0YWRhdGEgY2FsbCByZXRyaWV2ZSgpIGFuZCByZXR1cm5zIHRoZSB6aXAgZmlsZSBjb250ZW50c1xuICAgKi9cbiAgY2hlY2tSZXRyaWV2ZVN0YXR1cyhhc3luY1Byb2Nlc3NJZDogc3RyaW5nKTogUHJvbWlzZTxSZXRyaWV2ZVJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLl9pbnZva2UoXG4gICAgICAnY2hlY2tSZXRyaWV2ZVN0YXR1cycsXG4gICAgICB7IGFzeW5jUHJvY2Vzc0lkIH0sXG4gICAgICBBcGlTY2hlbWFzLlJldHJpZXZlUmVzdWx0LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBkZXBsb3kgYSByZWNlbnRseSB2YWxpZGF0ZWQgZGVwbG95IHJlcXVlc3RcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMuaWQgPSB0aGUgZGVwbG95IElEIHRoYXQncyBiZWVuIHZhbGlkYXRlZCBhbHJlYWR5IGZyb20gYSBwcmV2aW91cyBjaGVja09ubHkgZGVwbG95IHJlcXVlc3RcbiAgICogQHBhcmFtIG9wdGlvbnMucmVzdCA9IGEgYm9vbGVhbiB3aGV0aGVyIG9yIG5vdCB0byB1c2UgdGhlIFJFU1QgQVBJXG4gICAqIEByZXR1cm5zIHRoZSBkZXBsb3kgSUQgb2YgdGhlIHJlY2VudCB2YWxpZGF0aW9uIHJlcXVlc3RcbiAgICovXG4gIHB1YmxpYyBhc3luYyBkZXBsb3lSZWNlbnRWYWxpZGF0aW9uKG9wdGlvbnM6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHJlc3Q/OiBib29sZWFuO1xuICB9KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCB7IGlkLCByZXN0IH0gPSBvcHRpb25zO1xuICAgIGxldCByZXNwb25zZTogc3RyaW5nO1xuICAgIGlmIChyZXN0KSB7XG4gICAgICBjb25zdCBtZXNzYWdlQm9keSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdmFsaWRhdGVkRGVwbG95UmVxdWVzdElkOiBpZCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0SW5mbzogSHR0cFJlcXVlc3QgPSB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICB1cmw6IGAke3RoaXMuX2Nvbm4uX2Jhc2VVcmwoKX0vbWV0YWRhdGEvZGVwbG95UmVxdWVzdGAsXG4gICAgICAgIGJvZHk6IG1lc3NhZ2VCb2R5LFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHsgaGVhZGVyczogJ2pzb24nIH07XG4gICAgICAvLyBUaGlzIGlzIHRoZSBkZXBsb3kgSUQgb2YgdGhlIGRlcGxveVJlY2VudFZhbGlkYXRpb24gcmVzcG9uc2UsIG5vdFxuICAgICAgLy8gdGhlIGFscmVhZHkgdmFsaWRhdGVkIGRlcGxveSBJRCAoaS5lLiwgdmFsaWRhdGVkZGVwbG95cmVxdWVzdGlkKS5cbiAgICAgIC8vIFJFU1QgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBhbiBpZCBwcm9wZXJ0eSwgU09BUCByZXR1cm5zIHRoZSBpZCBhcyBhIHN0cmluZyBkaXJlY3RseS5cbiAgICAgIHJlc3BvbnNlID0gKFxuICAgICAgICBhd2FpdCB0aGlzLl9jb25uLnJlcXVlc3Q8eyBpZDogc3RyaW5nIH0+KHJlcXVlc3RJbmZvLCByZXF1ZXN0T3B0aW9ucylcbiAgICAgICkuaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5faW52b2tlKCdkZXBsb3lSZWNlbnRWYWxpZGF0aW9uJywge1xuICAgICAgICB2YWxpZGF0aW9uSWQ6IGlkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIERlcGxveSBjb21wb25lbnRzIGludG8gYW4gb3JnYW5pemF0aW9uIHVzaW5nIHppcHBlZCBmaWxlIHJlcHJlc2VudGF0aW9uc1xuICAgKiB1c2luZyB0aGUgUkVTVCBNZXRhZGF0YSBBUEkgaW5zdGVhZCBvZiBTT0FQXG4gICAqL1xuICBkZXBsb3lSZXN0KFxuICAgIHppcElucHV0OiBCdWZmZXIsXG4gICAgb3B0aW9uczogUGFydGlhbDxEZXBsb3lPcHRpb25zPiA9IHt9LFxuICApOiBEZXBsb3lSZXN1bHRMb2NhdG9yPFM+IHtcbiAgICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCB6aXBJbnB1dCwge1xuICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi96aXAnLFxuICAgICAgZmlsZW5hbWU6ICdwYWNrYWdlLnhtbCcsXG4gICAgfSk7XG5cbiAgICAvLyBBZGQgdGhlIGRlcGxveSBvcHRpb25zXG4gICAgZm9ybS5hcHBlbmQoJ2VudGl0eV9jb250ZW50JywgSlNPTi5zdHJpbmdpZnkoeyBkZXBsb3lPcHRpb25zOiBvcHRpb25zIH0pLCB7XG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVxdWVzdDogSHR0cFJlcXVlc3QgPSB7XG4gICAgICB1cmw6ICcvbWV0YWRhdGEvZGVwbG95UmVxdWVzdCcsXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgLi4uZm9ybS5nZXRIZWFkZXJzKCkgfSxcbiAgICAgIGJvZHk6IGZvcm0uZ2V0QnVmZmVyKCksXG4gICAgfTtcbiAgICBjb25zdCByZXMgPSB0aGlzLl9jb25uLnJlcXVlc3Q8QXN5bmNSZXN1bHQ+KHJlcXVlc3QpO1xuXG4gICAgcmV0dXJuIG5ldyBEZXBsb3lSZXN1bHRMb2NhdG9yKHRoaXMsIHJlcyk7XG4gIH1cblxuICAvKipcbiAgICogRGVwbG95IGNvbXBvbmVudHMgaW50byBhbiBvcmdhbml6YXRpb24gdXNpbmcgemlwcGVkIGZpbGUgcmVwcmVzZW50YXRpb25zXG4gICAqL1xuICBkZXBsb3koXG4gICAgemlwSW5wdXQ6IFJlYWRhYmxlIHwgQnVmZmVyIHwgc3RyaW5nLFxuICAgIG9wdGlvbnM6IFBhcnRpYWw8RGVwbG95T3B0aW9ucz4gPSB7fSxcbiAgKTogRGVwbG95UmVzdWx0TG9jYXRvcjxTPiB7XG4gICAgY29uc3QgcmVzID0gKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHppcENvbnRlbnRCNjQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpc09iamVjdCh6aXBJbnB1dCkgJiZcbiAgICAgICAgICAncGlwZScgaW4gemlwSW5wdXQgJiZcbiAgICAgICAgICB0eXBlb2YgemlwSW5wdXQucGlwZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBidWZzOiBCdWZmZXJbXSA9IFtdO1xuICAgICAgICAgIHppcElucHV0Lm9uKCdkYXRhJywgKGQpID0+IGJ1ZnMucHVzaChkKSk7XG4gICAgICAgICAgemlwSW5wdXQub24oJ2Vycm9yJywgcmVqZWN0KTtcbiAgICAgICAgICB6aXBJbnB1dC5vbignZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZShCdWZmZXIuY29uY2F0KGJ1ZnMpLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gemlwSW5wdXQucmVzdW1lKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoemlwSW5wdXQgaW5zdGFuY2VvZiBCdWZmZXIpIHtcbiAgICAgICAgICByZXNvbHZlKHppcElucHV0LnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoemlwSW5wdXQgaW5zdGFuY2VvZiBTdHJpbmcgfHwgdHlwZW9mIHppcElucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHJlc29sdmUoemlwSW5wdXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93ICdVbmV4cGVjdGVkIHppcElucHV0IHR5cGUnO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShcbiAgICAgICAgJ2RlcGxveScsXG4gICAgICAgIHtcbiAgICAgICAgICBaaXBGaWxlOiB6aXBDb250ZW50QjY0LFxuICAgICAgICAgIERlcGxveU9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIH0sXG4gICAgICAgIEFwaVNjaGVtYXMuRGVwbG95UmVzdWx0LFxuICAgICAgKTtcbiAgICB9KSgpO1xuXG4gICAgcmV0dXJuIG5ldyBEZXBsb3lSZXN1bHRMb2NhdG9yKHRoaXMsIHJlcyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHRoZSBzdGF0dXMgb2YgZGVjbGFyYXRpdmUgbWV0YWRhdGEgY2FsbCBkZXBsb3koKSwgdXNpbmcgZWl0aGVyXG4gICAqIFNPQVAgb3IgUkVTVCBBUElzLiBTT0FQIGlzIHRoZSBkZWZhdWx0LlxuICAgKi9cbiAgYXN5bmMgY2hlY2tEZXBsb3lTdGF0dXMoXG4gICAgYXN5bmNQcm9jZXNzSWQ6IHN0cmluZyxcbiAgICBpbmNsdWRlRGV0YWlsczogYm9vbGVhbiA9IGZhbHNlLFxuICAgIHJlc3Q6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKTogUHJvbWlzZTxEZXBsb3lSZXN1bHQ+IHtcbiAgICBpZiAocmVzdCkge1xuICAgICAgY29uc3QgdXJsID0gYC9tZXRhZGF0YS9kZXBsb3lSZXF1ZXN0LyR7YXN5bmNQcm9jZXNzSWR9JHtpbmNsdWRlRGV0YWlscyA/ICc/aW5jbHVkZURldGFpbHM9dHJ1ZScgOiAnJ31gO1xuICAgICAgdHlwZSBDaGVja0RlcGxveVN0YXR1c1Jlc3QgPSB7XG4gICAgICAgIGlkOiBzdHJpbmc7XG4gICAgICAgIHZhbGlkYXRlZERlcGxveVJlcXVlc3RJZDogc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgZGVwbG95UmVzdWx0OiBEZXBsb3lSZXN1bHQ7XG4gICAgICAgIGRlcGxveU9wdGlvbnM6IERlcGxveU9wdGlvbnMgfCBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChhd2FpdCB0aGlzLl9jb25uLnJlcXVlc3RHZXQ8Q2hlY2tEZXBsb3lTdGF0dXNSZXN0Pih1cmwpKS5kZXBsb3lSZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9pbnZva2UoXG4gICAgICAgICdjaGVja0RlcGxveVN0YXR1cycsXG4gICAgICAgIHtcbiAgICAgICAgICBhc3luY1Byb2Nlc3NJZCxcbiAgICAgICAgICBpbmNsdWRlRGV0YWlscyxcbiAgICAgICAgfSxcbiAgICAgICAgQXBpU2NoZW1hcy5EZXBsb3lSZXN1bHQsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gYXN5bmMgY2FuY2VsRGVwbG95KGlkOiBzdHJpbmcpOiBQcm9taXNlPENhbmNlbERlcGxveVJlc3VsdD57XG4gICAgcmV0dXJuIHRoaXMuX2ludm9rZSgnY2FuY2VsRGVwbG95JywgeyBpZCB9KVxuICB9XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4vKipcbiAqIFRoZSBsb2NhdG9yIGNsYXNzIGZvciBNZXRhZGF0YSBBUEkgYXN5bmNocm9ub3VzIGNhbGwgcmVzdWx0XG4gKi9cbmV4cG9ydCBjbGFzcyBBc3luY1Jlc3VsdExvY2F0b3I8XG4gIFMgZXh0ZW5kcyBTY2hlbWEsXG4gIFIgZXh0ZW5kcyB7fSA9IEFzeW5jUmVzdWx0XG4+IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgX21ldGE6IE1ldGFkYXRhQXBpPFM+O1xuICBfcHJvbWlzZTogUHJvbWlzZTxBc3luY1Jlc3VsdD47XG4gIF9pZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3IobWV0YTogTWV0YWRhdGFBcGk8Uz4sIHByb21pc2U6IFByb21pc2U8QXN5bmNSZXN1bHQ+KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9tZXRhID0gbWV0YTtcbiAgICB0aGlzLl9wcm9taXNlID0gcHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9taXNlL0ErIGludGVyZmFjZVxuICAgKiBodHRwOi8vcHJvbWlzZXMtYXBsdXMuZ2l0aHViLmlvL3Byb21pc2VzLXNwZWMvXG4gICAqXG4gICAqIEBtZXRob2QgTWV0YWRhdGF+QXN5bmNSZXN1bHRMb2NhdG9yI3RoZW5cbiAgICovXG4gIHRoZW48VSwgVj4oXG4gICAgb25SZXNvbHZlPzogKChyZXN1bHQ6IEFzeW5jUmVzdWx0KSA9PiBVIHwgUHJvbWlzZTxVPikgfCBudWxsIHwgdW5kZWZpbmVkLFxuICAgIG9uUmVqZWN0PzogKChlcnI6IEVycm9yKSA9PiBWIHwgUHJvbWlzZTxWPikgfCBudWxsIHwgdW5kZWZpbmVkLFxuICApOiBQcm9taXNlPFUgfCBWPiB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2UudGhlbihvblJlc29sdmUsIG9uUmVqZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayB0aGUgc3RhdHVzIG9mIGFzeW5jIHJlcXVlc3RcbiAgICovXG4gIGFzeW5jIGNoZWNrKCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX3Byb21pc2U7XG4gICAgdGhpcy5faWQgPSByZXN1bHQuaWQ7XG4gICAgcmV0dXJuIHRoaXMuX21ldGEuY2hlY2tTdGF0dXMocmVzdWx0LmlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb2xsaW5nIHVudGlsIGFzeW5jIGNhbGwgc3RhdHVzIGJlY29tZXMgY29tcGxldGUgb3IgZXJyb3JcbiAgICovXG4gIHBvbGwoaW50ZXJ2YWw6IG51bWJlciwgdGltZW91dDogbnVtYmVyKSB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgY29uc3QgcG9sbCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBpZiAoc3RhcnRUaW1lICsgdGltZW91dCA8IG5vdykge1xuICAgICAgICAgIGxldCBlcnJNc2cgPSAnUG9sbGluZyB0aW1lIG91dC4nO1xuICAgICAgICAgIGlmICh0aGlzLl9pZCkge1xuICAgICAgICAgICAgZXJyTXNnICs9ICcgUHJvY2VzcyBJZCA9ICcgKyB0aGlzLl9pZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcihlcnJNc2cpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jaGVjaygpO1xuICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoJ2NvbXBsZXRlJywgcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVtaXQoJ3Byb2dyZXNzJywgcmVzdWx0KTtcbiAgICAgICAgICBzZXRUaW1lb3V0KHBvbGwsIGludGVydmFsKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG4gICAgc2V0VGltZW91dChwb2xsLCBpbnRlcnZhbCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgYW5kIHdhaXQgdW50aWwgdGhlIGFzeW5jIHJlcXVlc3RzIGJlY29tZSBpbiBjb21wbGV0ZWQgc3RhdHVzXG4gICAqL1xuICBjb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8Uj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5vbignY29tcGxldGUnLCByZXNvbHZlKTtcbiAgICAgIHRoaXMub24oJ2Vycm9yJywgcmVqZWN0KTtcbiAgICAgIHRoaXMucG9sbCh0aGlzLl9tZXRhLnBvbGxJbnRlcnZhbCwgdGhpcy5fbWV0YS5wb2xsVGltZW91dCk7XG4gICAgfSk7XG4gIH1cbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKipcbiAqIFRoZSBsb2NhdG9yIGNsYXNzIHRvIHRyYWNrIHJldHJlaXZlKCkgTWV0YWRhdGEgQVBJIGNhbGwgcmVzdWx0XG4gKi9cbmV4cG9ydCBjbGFzcyBSZXRyaWV2ZVJlc3VsdExvY2F0b3I8UyBleHRlbmRzIFNjaGVtYT4gZXh0ZW5kcyBBc3luY1Jlc3VsdExvY2F0b3I8XG4gIFMsXG4gIFJldHJpZXZlUmVzdWx0XG4+IHtcbiAgLyoqXG4gICAqIENoZWNrIGFuZCB3YWl0IHVudGlsIHRoZSBhc3luYyByZXF1ZXN0IGJlY29tZXMgaW4gY29tcGxldGVkIHN0YXR1cyxcbiAgICogYW5kIHJldHJpZXZlIHRoZSByZXN1bHQgZGF0YS5cbiAgICovXG4gIGFzeW5jIGNvbXBsZXRlKCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1cGVyLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIHRoaXMuX21ldGEuY2hlY2tSZXRyaWV2ZVN0YXR1cyhyZXN1bHQuaWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoYW5nZSB0aGUgcmV0cmlldmVkIHJlc3VsdCB0byBOb2RlLmpzIHJlYWRhYmxlIHN0cmVhbVxuICAgKi9cbiAgc3RyZWFtKCkge1xuICAgIGNvbnN0IHJlc3VsdFN0cmVhbSA9IG5ldyBSZWFkYWJsZSgpO1xuICAgIGxldCByZWFkaW5nID0gZmFsc2U7XG4gICAgcmVzdWx0U3RyZWFtLl9yZWFkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHJlYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVhZGluZyA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICAgIHJlc3VsdFN0cmVhbS5wdXNoKEJ1ZmZlci5mcm9tKHJlc3VsdC56aXBGaWxlLCAnYmFzZTY0JykpO1xuICAgICAgICByZXN1bHRTdHJlYW0ucHVzaChudWxsKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVzdWx0U3RyZWFtLmVtaXQoJ2Vycm9yJywgZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gcmVzdWx0U3RyZWFtO1xuICB9XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLyoqXG4gKiBUaGUgbG9jYXRvciBjbGFzcyB0byB0cmFjayBkZXBsb3koKSBNZXRhZGF0YSBBUEkgY2FsbCByZXN1bHRcbiAqXG4gKiBAcHJvdGVjdGVkXG4gKiBAY2xhc3MgTWV0YWRhdGF+RGVwbG95UmVzdWx0TG9jYXRvclxuICogQGV4dGVuZHMgTWV0YWRhdGF+QXN5bmNSZXN1bHRMb2NhdG9yXG4gKiBAcGFyYW0ge01ldGFkYXRhfSBtZXRhIC0gTWV0YWRhdGEgQVBJIG9iamVjdFxuICogQHBhcmFtIHtQcm9taXNlLjxNZXRhZGF0YX5Bc3luY1Jlc3VsdD59IHJlc3VsdCAtIFByb21pc2Ugb2JqZWN0IGZvciBhc3luYyByZXN1bHQgb2YgZGVwbG95KCkgY2FsbFxuICovXG5leHBvcnQgY2xhc3MgRGVwbG95UmVzdWx0TG9jYXRvcjxTIGV4dGVuZHMgU2NoZW1hPiBleHRlbmRzIEFzeW5jUmVzdWx0TG9jYXRvcjxcbiAgUyxcbiAgRGVwbG95UmVzdWx0XG4+IHtcbiAgLyoqXG4gICAqIENoZWNrIGFuZCB3YWl0IHVudGlsIHRoZSBhc3luYyByZXF1ZXN0IGJlY29tZXMgaW4gY29tcGxldGVkIHN0YXR1cyxcbiAgICogYW5kIHJldHJpZXZlIHRoZSByZXN1bHQgZGF0YS5cbiAgICovXG4gIGFzeW5jIGNvbXBsZXRlKGluY2x1ZGVEZXRhaWxzPzogYm9vbGVhbikge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1cGVyLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIHRoaXMuX21ldGEuY2hlY2tEZXBsb3lTdGF0dXMocmVzdWx0LmlkLCBpbmNsdWRlRGV0YWlscyk7XG4gIH1cbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKlxuICogUmVnaXN0ZXIgaG9vayBpbiBjb25uZWN0aW9uIGluc3RhbnRpYXRpb24gZm9yIGR5bmFtaWNhbGx5IGFkZGluZyB0aGlzIEFQSSBtb2R1bGUgZmVhdHVyZXNcbiAqL1xucmVnaXN0ZXJNb2R1bGUoJ21ldGFkYXRhJywgKGNvbm4pID0+IG5ldyBNZXRhZGF0YUFwaShjb25uKSk7XG5cbmV4cG9ydCBkZWZhdWx0IE1ldGFkYXRhQXBpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTQSxZQUFZLFFBQVEsUUFBUTtBQUNyQyxTQUFTQyxRQUFRLFFBQVEsUUFBUTtBQUNqQyxPQUFPQyxRQUFRLE1BQU0sV0FBVztBQUNoQyxTQUFTQyxjQUFjLFFBQVEsWUFBWTtBQUUzQyxPQUFPQyxJQUFJLE1BQU0sU0FBUztBQUMxQixTQUFTQyxRQUFRLFFBQVEsa0JBQWtCO0FBRTNDLFNBQ0VDLFVBQVUsUUFjTCxtQkFBbUI7QUFDMUIsY0FBYyxtQkFBbUI7O0FBRWpDO0FBQ0E7QUFDQTs7QUFpQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU0MsMEJBQTBCQSxDQUFxQkMsUUFBVyxFQUFLO0VBQ3RFLElBQUFDLElBQUEsR0FBcUJELFFBQVE7SUFBckJFLENBQUMsR0FBQUQsSUFBQSxDQUFEQyxDQUFDO0lBQUtDLEVBQUUsR0FBQUMsd0JBQUEsQ0FBQUgsSUFBQSxFQUFBSSxTQUFBO0VBQ2hCLE9BQU9GLEVBQUU7QUFDWDtBQUVBLFNBQVNHLHNCQUFzQkEsQ0FBQ04sUUFBK0IsRUFBRU8sSUFBWSxFQUFFO0VBQzdFLElBQU1DLE9BQU8sR0FBRyxTQUFWQSxPQUFP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